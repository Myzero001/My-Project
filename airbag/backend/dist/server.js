"use strict";
var __importDefault = (this && this.__importDefault) || function (mod) {
    return (mod && mod.__esModule) ? mod : { "default": mod };
};
Object.defineProperty(exports, "__esModule", { value: true });
exports.logger = exports.app = void 0;
const express_1 = __importDefault(require("express"));
const helmet_1 = __importDefault(require("helmet"));
const cors_1 = __importDefault(require("cors"));
const errorHandler_1 = __importDefault(require("@common/middleware/errorHandler"));
const cookie_parser_1 = __importDefault(require("cookie-parser"));
const envConfig_1 = require("@common/utils/envConfig");
const pino_1 = require("pino");
const ms_group_repairRouter_1 = require("@modules/ms-group-repair/ms-group-repairRouter");
const issueReasonRouter_1 = require("@modules/ms-issue-reason/issueReasonRouter");
const userRouter_1 = require("@modules/users/userRouter");
const toolRouter_1 = require("@modules/tool/toolRouter");
const colorRouter_1 = require("@modules/ms_color/colorRouter");
const ms_customer_Router_1 = require("@modules/master_customer/ms_customer-Router");
const ms_positionRouter_1 = require("@modules/ms_position/ms_positionRouter");
const selectTypeIssueReasonRouter_1 = require("@modules/ms-type-issue-reason/selectTypeIssueReasonRouter");
const ms_brandRouter_1 = require("@modules/ms-brand/ms-brandRouter");
const ms_repairRouter_1 = require("@modules/ms_repair/ms-repairRouter");
const ms_brandModelRouter_1 = require("@modules/ms-brandmodel/ms-brandModelRouter");
const ms_supplierRouter_1 = require("@modules/ms-supplier/ms-supplierRouter");
const ms_companiesModelRouter_1 = require("@modules/ms-companies/ms_companiesModelRouter");
const quotationRouter_1 = require("@modules/quotation/quotationRouter");
const visitCustomerRouter_1 = require("@modules/visit-customer/visitCustomerRouter");
const responsiblePersonRouter_1 = require("@modules/responsible-person/responsiblePersonRouter");
const quotationRepairRouter_1 = require("@modules/quotation-repair/quotationRepairRouter");
const fileRouter_1 = require("@modules/file/fileRouter");
const repairReceiptRouter_1 = require("@modules/ms-repair-receipt/repairReceiptRouter");
const repairReceiptListRepairRouter_1 = require("@modules/repair-receipt-list-repair/repairReceiptListRepairRouter");
const ms_tooling_reasonRouter_1 = require("@modules/ms-tooling-reason/ms-tooling-reasonRouter");
const ms_clear_by_reasonRouter_1 = require("@modules/master_clear_by/ms-clear-by-reasonRouter");
const supplierDeliveryNoteRouter_1 = require("@modules/supplier-delivery-note/supplierDeliveryNoteRouter");
const sdnRepairReceiptListRouter_1 = require("@modules/sdn-repair-receipt-list/sdnRepairReceiptListRouter");
const deliveryScheduleRouter_1 = require("@modules/ms-delivery-shedule/deliveryScheduleRouter");
const paymentRouter_1 = require("@modules/ms-payment/paymentRouter");
const quotationLogStatusRouter_1 = require("@modules/quotation_log_status/quotationLogStatusRouter");
const supplierRepairReceiptRouter_1 = require("@modules/supplier_repair_receipt/supplierRepairReceiptRouter");
const supplierRepairReceiptListRouter_1 = require("@modules/supplier_repair_receipt_list/supplierRepairReceiptListRouter");
const repairReceiptListRepairLogStatusRouter_1 = require("@modules/repair_receipt_list_repair_log_status/repairReceiptListRepairLogStatusRouter");
const roleRouter_1 = require("@modules/role/roleRouter");
const paymentEditsRouter_1 = require("@modules/payment_edits/paymentEditsRouter");
const sendForAClaimRouter_1 = require("@modules/send-for-a-claim/sendForAClaimRouter");
const sendForAClaimListRouter_1 = require("@modules/send-for-a-claim-list/sendForAClaimListRouter");
const dashboardCQRouter_1 = require("@modules/dashboardCustomerQuotation/dashboardCQRouter");
const receiveForClaimRouter_1 = require("@modules/receive_for_a_claim/receiveForClaimRouter");
const receiveForClaimListRouter_1 = require("@modules/receive_for_a_claim_list/receiveForClaimListRouter");
const GetQrcode_1 = require("@modules/qrcode/GetQrcode");
const otherRouter_1 = require("@modules/other/otherRouter");
const logger = (0, pino_1.pino)({ name: "server start" });
exports.logger = logger;
const app = (0, express_1.default)();
exports.app = app;
app.use((0, cookie_parser_1.default)());
app.use(express_1.default.json());
app.use(express_1.default.urlencoded({ extended: true }));
// Middlewares
app.use((0, cors_1.default)({ origin: envConfig_1.env.CORS_ORIGIN, credentials: true }));
app.use((0, helmet_1.default)());
// Routes
app.use("/v1/tool", toolRouter_1.toolRouter);
app.use("/v1/ms-issue-reason", issueReasonRouter_1.issueReasonRouter);
app.use("/v1/ms-type-issue-reason", selectTypeIssueReasonRouter_1.msTypeIssueReasonRouter);
app.use("/v1/user", userRouter_1.userRouter);
app.use("/v1/color", colorRouter_1.colorRouter);
app.use("/v1/customer", ms_customer_Router_1.ms_customerRouter);
app.use("/v1/ms-position", ms_positionRouter_1.mspositionRouter);
app.use("/v1/ms-group-repair", ms_group_repairRouter_1.groupRouterRepair);
app.use("/v1/ms-brand", ms_brandRouter_1.brandRouter);
app.use("/v1/ms-repair", ms_repairRouter_1.ms_repairRouter);
app.use("/v1/ms-brandModel", ms_brandModelRouter_1.brandModelRouter);
app.use("/v1/ms-supplier", ms_supplierRouter_1.msSupplierRouter);
app.use("/v1/ms-companies", ms_companiesModelRouter_1.ms_companiesModelRouter);
app.use("/v1/quotation", quotationRouter_1.quotationRouter);
app.use("/v1/quotation-log-status", quotationLogStatusRouter_1.quotationLogStatusRouter);
app.use("/v1/quotation-repair", quotationRepairRouter_1.quotationRepairRouter);
app.use("/v1/repair-receipt-list-repair", repairReceiptListRepairRouter_1.repairReceiptListRepairRouter);
app.use("/v1/ms-repair-receipt", repairReceiptRouter_1.repairReceiptRouter);
app.use("/v1/visit-customer", visitCustomerRouter_1.visitCustomerRouter);
app.use("/v1/responsible-person", responsiblePersonRouter_1.responsiblePersonRouter);
app.use("/v1/file", fileRouter_1.fileRouter);
app.use("/v1/ms-tooling-reason", ms_tooling_reasonRouter_1.toolingReasonRouter);
app.use("/v1/ms-clear-by", ms_clear_by_reasonRouter_1.clearByReasonRouter);
app.use("/v1/supplier-delivery-note", supplierDeliveryNoteRouter_1.supplierDeliveryNoteRouter);
app.use("/v1/sdn-repair-receipt-list", sdnRepairReceiptListRouter_1.sdnRepairReceiptListRouter);
app.use("/v1/ms-delivery-schedule", deliveryScheduleRouter_1.deliveryScheduleRouter);
app.use("/v1/ms-payment", paymentRouter_1.paymentRouter);
app.use("/v1/supplier_repair_receipt", supplierRepairReceiptRouter_1.supplierRepairReceiptRouter);
app.use("/v1/supplier_repair_receipt_list", supplierRepairReceiptListRouter_1.supplierRepairReceiptListRouter);
app.use("/v1/repair-receipt-list-repair-log-status", repairReceiptListRepairLogStatusRouter_1.repairReceiptListRepairLogStatusRouter);
app.use("/v1/role", roleRouter_1.roleRouter);
app.use("/v1/payment-edits", paymentEditsRouter_1.paymentEditsRouter);
app.use("/v1/send-for-a-claim", sendForAClaimRouter_1.sendForAClaimRouter);
app.use("/v1/send-for-a-claim-list", sendForAClaimListRouter_1.sendForAClaimListRouter);
app.use("/v1/dashboard-customer-quotation", dashboardCQRouter_1.dashboardCQRouter);
app.use("/v1/receive-for-a-claim", receiveForClaimRouter_1.receiveForAClaimRouter);
app.use("/v1/receive-for-a-claim-list", receiveForClaimListRouter_1.receiveForAClaimListRouter);
app.use("/v1/Qrcode", GetQrcode_1.GetQrcode);
app.use("/v1/other", otherRouter_1.otherRouter);
app.use((0, errorHandler_1.default)());
